### Шанс вопроса: 14%

Оконные функции в SQL являются мощным инструментом для выполнения агрегатных вычислений, таких как суммирование, усреднение, подсчет и т.д., но не изменяя количества строк. Они позволяют выполнять эти операции по скользящим окнам данных в результате запроса.

Пример использования оконной функции: Предположим, у нас есть таблица `sales` с колонками `sale_id`, `product_id`, `amount`, и мы хотим узнать сумму продаж для каждого продукта за последние 7 дней. Мы можем использовать оконную функцию `SUM()` с оператором `RANGE BETWEEN`:

```sql
SELECT sale_id, product_id, amount,
       SUM(amount) OVER (PARTITION BY product_id ORDER BY sale_date RANGE BETWEEN INTERVAL '7 days' PRECEDING AND CURRENT ROW) AS rolling_sum
FROM sales;
```

В этом примере:
- `PARTITION BY product_id` разделяет данные по продуктам.
- `ORDER BY sale_date` упорядочивает данные по дате продаж.
- `RANGE BETWEEN INTERVAL '7 days' PRECEDING AND CURRENT ROW` задает окно размером в 7 дней, включая текущую строку и предыдущие 6 дней.

Это позволяет нам видеть сумму продаж для каждого продукта за последние 7 дней.