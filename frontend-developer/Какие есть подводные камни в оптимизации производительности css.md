### Шанс вопроса: 3%

Подводные камни в оптимизации производительности CSS включают следующие моменты:

1. **Большое количество классов и селекторов**: Использование множественных классов или сложных селекторов может замедлить рендеринг страницы, особенно если документ становится большим. Рекомендуется минимизировать количество используемых классов и упростить селекторы.
   ```css
   /* Плохой пример */
   .container div.item { ... }

   /* Хороший пример */
   .container-item { ... }
   ```

2. **Рефловки**: Изменение размеров элементов или их содержимого может приводить к перерисовке всего DOM, что сказывается на производительности. Использование `will-change` свойства для предварительного уведомления браузера о потенциальных изменениях помогает оптимизировать рефловки.
   ```css
   .element {
     will-change: transform;
   }
   ```

3. **Неправильное использование `@import`**: Использование `@import` в CSS файлах может приводить к блокировке рендеринга до загрузки всего ресурса. Вместо этого следует использовать несколько ссылок на отдельные CSS файлы или инлайновые стили.
   ```css
   /* Плохой пример */
   @import url('styles.css');

   /* Хороший пример */
   <link rel="stylesheet" href="style1.css">
   <link rel="stylesheet" href="style2.css">
   ```

4. **Использование больших изображений или видео**: Загрузка и рендеринг таких ресурсов может потребовать значительных вычислительных мощностей, особенно на мобильных устройствах. Следует оптимизировать размеры изображений или использовать технологии для более легкой загрузки и рендеринга, такие как lazy loading или responsive images.
   ```html
   <!-- Плохой пример -->
   <img src="large-image.jpg" alt="Large image">

   <!-- Хороший пример -->
   <img srcset="small.jpg 500w, medium.jpg 1000w, large.jpg 2000w" sizes="(max-width: 600px) 100vw, (max-width: 1200px) 50vw, 33vw" src="large.jpg" alt="Responsive image">
   ```

5. **Неправильное использование `calc()`**: Применение функций вроде `calc()` для вычисления размеров может приводить к пересчету значений на каждом рефлоке, что сказывается на производительности. Следует избегать использования `calc()` в большинстве случаев или ограничивать их область применения для критически важных значений.
   ```css
   /* Плохой пример */
   .element {
     width: calc(100% - 20px);
   }

   /* Хороший пример */
   .element {
     width: 98%;
   }
   ```

Оптимизация производительности CSS требует внимательного отношения к деталям и понимания того, как браузеры обрабатывают CSS.