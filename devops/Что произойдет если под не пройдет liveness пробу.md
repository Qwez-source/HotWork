### Шанс вопроса: 6%

Если подсистема `liveness probe` не проходит, это означает, что контейнер или приложение внутри него не в состоянии работать должным образом. В ответ на неудачную проверку жизнеспособности система управления контейнерами (например, Kubernetes) может предпринять одно или несколько действий:

1. **Перезапуск контейнера**: Система попытается перезапустить контейнер, чтобы убедиться, что он снова станет живым и здоровым. Это может произойти немедленно или после задержки.

2. **Отправка сигнала**: В некоторых системах можно настроить действия, когда проверка жизнеспособности завершается неудачей. Например, можно отправить сигнал процессу внутри контейнера, чтобы тот перезапустился или выполнил другие действия для восстановления.

3. **Отключение сервиса**: Если попытки восстановить работоспособность не увенчаются успехом, система может отключить сервис от балансировщика нагрузки или просто остановить его выполнение.

4. **Журналы и метрики**: В случае неудачной проверки жизнеспособности могут собираться дополнительные данные о состоянии контейнера, что помогает в диагностике проблем. Эти данные также могут использоваться для принятия решений об автоматическом масштабировании или уведомлений о проблемах.

5. **Автоматический восстановление**: Некоторые системы могут включать функции автоматического восстановления, когда проверка жизнеспособности не удается. Эти функции обычно основаны на конфигурации политик и могут включать в себя перезапуск контейнеров или отправку сигналов для принудительного завершения работы приложения, позволяя ему обработать это событие и завершить работу корректно.

Пример настройки `liveness probe` в Kubernetes:

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: example-pod
spec:
  containers:
  - name: example-container
    image: nginx
    livenessProbe:
      httpGet:
        path: /healthz
        port: 80
      initialDelaySeconds: 30
      periodSeconds: 10
```

В этом примере `livenessProbe` настроен для проверки доступности `/healthz` endpoint каждые 10 секунд, начиная с задержки в 30 секунд. Если HTTP-запрос к `/healthz` не удается выполнить (что может указывать на проблему в приложении), Kubernetes перезапустит контейнер.