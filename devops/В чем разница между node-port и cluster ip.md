### Шанс вопроса: 6%

NodePort и ClusterIP являются двумя типами сервисов в Kubernetes, которые служат для предоставления доступа к приложениям внутри кластера. Основное различие между ними заключается в способе маршрутизации трафика:

1. **NodePort**:
   - **Описание**: NodePort — это тип сервиса, который открывает один или несколько портов на каждом узле кластера (node) и маршрутизирует трафик к ним. Этот порт является внешним для кластера и позволяет доступ к сервису извне кластера, используя IP-адрес узла и назначенный порт.
   - **Пример конфигурации**:
     ```yaml
     apiVersion: v1
     kind: Service
     metadata:
       name: my-service
     spec:
       type: NodePort
       ports:
         - port: 80
           targetPort: 80
           nodePort: 30000
       selector:
         app: my-app
     ```
   - **Использование**: Обычно используется для доступа к приложениям извне корпоративной сети или интернета.

2. **ClusterIP**:
   - **Описание**: ClusterIP — это тип сервиса, который предоставляет внутренний IP-адрес, доступный только внутри кластера. Сервисы с типом ClusterIP служат шлюзом для трафика внутри кластера и не имеют внешнего доступа.
   - **Пример конфигурации**:
     ```yaml
     apiVersion: v1
     kind: Service
     metadata:
       name: my-service
     spec:
       type: ClusterIP
       ports:
         - port: 80
           targetPort: 80
       selector:
         app: my-app
     ```
   - **Использование**: Используется для внутренней маршрутизации трафика между сервисами в кластере, например, приложениям, базам данных и другим компонентам системы.

Основное различие заключается в том, что NodePort открывает порт на узлах кластера для доступа извне, а ClusterIP предоставляет внутренний IP-адрес для взаимодействия внутри кластера. Выбор между ними зависит от требований к безопасности и масштабируемости вашего приложения.