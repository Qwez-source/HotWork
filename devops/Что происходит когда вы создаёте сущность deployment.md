### Шанс вопроса: 6%

При создании сущности Deployment в Kubernetes происходит следующее:

1. **Создание YAML-файла**: Создается файл конфигурации (YAML) для объявления нового ресурса Deployment. Этот файл содержит информацию о приложении, такую как количество реплик, образы контейнеров, порты и другие параметры.

2. **Применение конфигурации**: Используется команда `kubectl apply -f <filename>.yaml` для применения этого файла в кластер Kubernetes. Эта команда отправляет информацию о Deployment в API-сервер Kubernetes, который затем создает и управляет развертыванием.

3. **Создание Pods**: Kubernetes создает определенное количество Pods (контейнеров), указанных в Deployment. Если манифест указывает 3 реплики, то Kubernetes запустит 3 экземпляра контейнера.

4. **Управление версиями**: При необходимости можно обновить приложение или исправить баг в коде, изменив соответствующие параметры в YAML-файле и применив его снова (`kubectl apply -f <filename>.yaml`). Kubernetes автоматически управляет процессом миграции Pods, обеспечивая плавный переход на новую версию приложения.

5. **Скалинг и обновление**: Deployment позволяет масштабировать количество реплик (используя команду `kubectl scale deployment <name> --replicas=<number>`) или обновлять версию приложения с помощью стратегий кастингова, таких как RollingUpdate или Recreate.

6. **Горизонтальное масштабирование**: Если нагрузка на приложение увеличивается, можно автоматически увеличить количество реплик Deployment для обработки большего количества запросов.

7. **Балансировка нагрузки**: Kubernetes использует внутренний сервис (Service) для балансировки нагрузки между Pods, что обеспечивает равномерное распределение трафика.

Пример YAML-файла для Deployment:
```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app
spec:
  replicas: 3
  selector:
    matchLabels:
      app: my-app
  template:
    metadata:
      labels:
        app: my-app
    spec:
      containers:
      - name: my-container
        image: my-image:latest
        ports:
        - containerPort: 80
```

Этот файл определяет Deployment с именем `my-app`, который создаст три Pods, каждый из которых будет запущен с образом `my-image:latest` на порту 80.