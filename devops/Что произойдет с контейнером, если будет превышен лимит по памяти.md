### Шанс вопроса: 6%

Если в Docker-контейнере будет превышен лимит по памяти (memory limit), то система может перезапустить или остановить контейнер. Это происходит потому, что операционная система пытается защитить себя от исчерпания всей доступной физической памяти узла.

Когда Docker запускает контейнер с ограничением по памяти, он контролирует объем выделенной памяти и мониторит её использование. Если предел будет превышен, поведение системы зависит от настроек Docker:

1. **Перезапуск контейнера**: По умолчанию Docker может перезапустить контейнер, если он нарушает ограничения по памяти. Это можно контролировать с помощью параметра `restart-policy` в Docker Run/Create. Например:
   ```sh
   docker run --memory="512m" --restart=on-failure your_image
   ```
   Здесь, если контейнер использует более 512MB памяти, он будет перезапущен.

2. **Остановка контейнера**: Если Docker не может перезапустить контейнер (например, если у него нет возврата после сбоя или если параметр `restart-policy` не настроен для перезапуска), то контейнер будет остановлен.

3. **Действия Docker Swarm**: В Docker Swarm, если контейнер нарушает ограничения по памяти, он может быть удален из текущего узла и запущен на другом с более высокими ресурсами, если такой узел доступен.

4. **Система защиты**: Операционная система узла может применять различные механизмы защиты от исчерпания памяти, такие как вытеснение (paging) или принудительное освобождение памяти приложением. Это может привести к снижению производительности или даже к зависанию приложения.

5. **Наблюдение за использованием памяти**: Docker предоставляет инструменты для мониторинга и отслеживания использования ресурсов контейнером, включая возможности выявления превышения лимитов по памяти.

Пример команды для запуска контейнера с ограничением по памяти:
```sh
docker run --memory="512m" your_image
```
Это гарантирует, что контейнер не будет использовать более 512MB оперативной памяти. Если превышение произойдет, Docker предпримет соответствующие действия в зависимости от настроек и политик.