### Шанс вопроса: 13%

В Docker контейнерах различают три основных слоя: базовый образ, команды COPY/ADD для добавления файлов или каталогов из хост-системы в контейнер, и команды RUN для выполнения любых операций при установке программ и библиотек. Каждый слой представляет собой отдельный промежуточный образ, который создаётся на основе предыдущего слоя. Это позволяет кэшировать промежуточные результаты и ускорять процесс сборки образа, если в последующих слоях не произошли изменения. Например:

```Dockerfile
# Базовый образ
FROM ubuntu:latest

# Установка зависимостей
RUN apt-get update && apt-get install -y \
    build-essential \
    python3 \
    python3-pip

# Копирование исходного кода проекта
COPY . /app

# Установка зависимостей Python из requirements.txt
RUN pip3 install -r /app/requirements.txt
```

В этом примере:
1. `FROM ubuntu:latest` — создаёт базовый образ на основе последней версии Ubuntu.
2. `RUN apt-get update && apt-get install -y build-essential python3 python3-pip` — устанавливает необходимые зависимости, что требует скачивания и установки различных пакетов, создавая при этом новый промежуточный слой.
3. `COPY . /app` — копирует текущую директорию проекта в контейнер, что также создаёт новый слой.
4. `RUN pip3 install -r /app/requirements.txt` — устанавливает зависимости Python из файла requirements.txt, снова создавая промежуточный слой.

Таким образом, в Dockerfile можно выделить три основных слоя: базовый образ, команды установки зависимостей и копирование файлов/каталогов, что позволяет эффективно управлять зависимостями и уменьшать размер окончательного образа.