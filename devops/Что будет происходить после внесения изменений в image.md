### Шанс вопроса: 6%

После внесения изменений в файл Docker-образа, процесс сборки Docker-образа автоматически активируется. Вот шаги, которые будут происходить:

1. **Обнаружение изменений**: Любые изменения в Dockerfile или других файлах, от которых зависит образ (например, зависимости, скрипты инициализации), будут обнаружены системой сборки Docker.

2. **Перестроение образа**: Если какой-либо из файлов был изменен или добавлен, Docker определит это и запустит процесс перестроения образа. Это включает в себя выполнение команд, указанных в Dockerfile, для создания нового слоя образа.

3. **Кэширование слоев**: Docker использует кэш для хранения промежуточных слоев образов. Если какой-либо шаг в Dockerfile уже был выполнен и сохранён в кэше, Docker попытается использовать этот кэшированный слой при следующей сборке, если не произошло изменение зависимостей или кода на уровне этого шага.

4. **Проверка кэша**: Если в Dockerfile были внесены изменения, которые влияют на предыдущие слои (например, обновление пакетов через `apt-get update`), Docker не сможет использовать кэшированный слой и вынужден будет перестроить его.

5. **Запуск нового слоя**: После завершения сборки новый слой добавляется в существующий образ, создавая новую версию образа Docker.

6. **Тестирование и деплоймент**: Новый образ должен пройти тестирование на соответствие требованиям и регрессионным тестам перед развёртыванием в производственной среде.

Пример Dockerfile:
```dockerfile
FROM ubuntu:latest
RUN apt-get update && apt-get install -y \
    build-essential \
    git \
    curl
COPY . /app
WORKDIR /app
RUN make  # Сборка приложения
CMD ["./app"]
```
Если в этом Dockerfile внести изменения, например, добавив новый пакет:
```dockerfile
FROM ubuntu:latest
RUN apt-get update && apt-get install -y \
    build-essential \
    git \
    curl \
    vim  # Новый пакет
COPY . /app
WORKDIR /app
RUN make  # Сборка приложения
CMD ["./app"]
```
После внесения этих изменений Docker автоматически обнаружит их, перестроит образ с учётом новых зависимостей и добавит кэшированные слои или создаст новые, если потребуется.