### Шанс вопроса: 6%

Immutable Infrastructure — это концепция, в которой инфраструктура виртуальных машин или сервисов считается неизменяемой. Это означает, что вместо того, чтобы пытаться изменить существующую инфраструктуру, она полностью пересоздаётся для каждого изменения или обновления. Такой подход упрощает управление конфигурациями и обеспечивает воспроизводимость среды.

Пример: Представьте, что вы используете традиционный подход к управлению серверами, где вы обновляете операционную систему или устанавливаете приложения на уже существующих виртуальных машинах. В случае с Immutable Infrastructure каждая конфигурация представляет собой отдельный образ (image), и когда нужно внести изменения, вы создаёте новую виртуальную машину или контейнер с новой версией образа. После успешного завершения тестов и проверки новая инфраструктура становится доступной для пользователей, а старые ресурсы выводятся из эксплуатации или изолируются для дальнейшего анализа.

Преимущества включают:
- Воспроизводимость: Каждая конфигурация является точной копией, что упрощает тестирование и обеспечение соответствия требованиям безопасности и законодательства.
- Уменьшение рисков: Поскольку изменения происходят на новых ресурсах, вероятность возникновения ошибок при работе с приложением уменьшается.
- Упрощение масштабирования: Легко увеличить количество ресурсов или переместить их в другой датацентр, так как каждый компонент является отдельным экземпляром.

Недостатки включают:
- Высокие затраты на хранение образов: Для каждого изменения или обновления требуется создание нового образа, что может увеличить расходы на хранения данных.
- Сложность в реализации для существующих инфраструктур: Переход к Immutable Infrastructure требует значительных изменений в рабочих процессах и культуре организации.

Пример кода (на языке Terraform) для создания нового образа виртуальной машины:
```hcl
resource "digitalocean_droplet" "example" {
  image    = "ubuntu-20-04-x64"
  name     = "example"
  region   = "nyc3"
  size     = "s-1vcpu-1gb"
  ssh_keys = [data.digitalocean_ssh_key.default.id]
}
```
Этот код создаёт новую виртуальную машину с базовым образом Ubuntu 20.04 на DigitalOcean. После успешного завершения этапы тестирования и проверки, можно перейти к следующей версии или обновлению.