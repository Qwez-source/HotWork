### Шанс вопроса: 3%

Docker и виртуальные машины (VM, Virtual Machines) — это два различных подхода к изоляции приложений и их выполнению в среде с независимыми контейнерами. Вот основные отличия между ними:

1. **Архитектура**:
   - **Виртуальная машина** создает полную виртуальную систему на базе гипервизора, включая операционную систему и все необходимые компоненты. Это означает, что каждая VM эмулирует физический сервер, включая свой собственный виртуальный процессор, память, хранилище и сетевую инфраструктуру.
   - **Docker** использует технологию контейнеризации, которая разделяет ресурсы между несколькими контейнерами на уровне операционной системы. Контейнеры делят ядро ОС с основным хостом, что позволяет запускать множество приложений на одной машине с меньшими затратами ресурсов по сравнению с VM.

2. **Изоляция и безопасность**:
   - **Виртуальная машина** обеспечивает более высокий уровень изоляции, так как она эмулирует полную систему. Это делает её более безопасной и защищенной от атак на уровне операционной системы.
   - **Docker** обеспечивает изоляцию приложения в пределах одного хоста, что позволяет контролировать доступ к ресурсам и сетевым интерфейсам. Однако он менее защищен от атак на уровне операционной системы по сравнению с VM.

3. **Запуск и масштабирование**:
   - **Виртуальная машина** требует больше ресурсов для запуска, так как она эмулирует полный сервер. Масштабирование VM может быть сложнее и медленнее из-за необходимости разворачивать новую систему.
   - **Docker** использует легковесные контейнеры, что позволяет запускать приложения быстрее и с меньшими затратами ресурсов. Масштабирование Docker-контейнеров происходит на уровне приложения, что значительно быстрее и эффективнее.

4. **Производительность**:
   - **Виртуальная машина** может иметь более низкую производительность из-за дополнительного уровня изоляции и виртуализации, особенно при работе с тяжелыми приложениями или большим количеством VM на одной машине.
   - **Docker** имеет более высокую производительность, так как контейнеры делят ядро ОС и используют виртуализацию уровня 2 (L2) или L4, что позволяет запускать множество приложений на одной машине без значительной потери производительности.

5. **Использование ресурсов**:
   - **Виртуальная машина** использует больше ресурсов (CPU, память, дисковое пространство), чем Docker-контейнеры из-за необходимости эмулировать полный сервер.
   - **Docker** использует значительно меньше ресурсов, так как контейнеры делят ядро ОС и общие библиотеки, что позволяет более эффективно использовать доступные ресурсы.

Примеры кода для Docker:
```bash
# Создание нового контейнера
docker run -d --name my_container nginx:latest

# Запуск командной строки внутри контейнера
docker exec -it my_container /bin/bash

# Остановка и удаление контейнера
docker stop my_container
docker rm my_container
```

В целом, Docker предпочтительнее для микросервисной архитектуры и приложений, которые требуют быстрого развертывания и масштабирования, в то время как виртуальные машины полезны для изоляции сред выполнения и тестирования.