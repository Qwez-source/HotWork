### Шанс вопроса: 3%

При добавлении индексов на большие таблицы следует учитывать несколько важных моментов, которые могут вызвать подводные камни. Вот основные из них:

1. **Замедление операций вставки/обновления**: Индексы требуют дополнительных ресурсов для обновления при каждом добавлении или изменении данных. Это может замедлить операции вставки, удаления и обновления.

2. **Повышение затрат на дисковое пространство**: Каждый индекс занимает дополнительное место на диске. Если таблица очень большая, это может быстро привести к исчерпанию пространства.

3. **Возможность блокировки**: В некоторых СУБД индексы могут заблокировать таблицу на время её обновления, что может привести к проблемам с параллельными операциями.

4. **Перестройка индексов**: При добавлении или удалении большого количества строк может потребоваться перестроение всех индексов, что также занимает значительное время.

5. **Оптимизация запросов**: Если вы добавите слишком много индексов, это может привести к перегрузке планировщика запросов и ухудшению производительности запросов.

**Примеры кода**: В большинстве современных СУБД добавление индексов обычно не является проблемой благодаря оптимизации, но все же следует быть внимательным к этим моментам. Например, в PostgreSQL можно использовать инструмент `ANALYZE` для периодического анализа статистики таблицы и помощи планировщику запросов в оптимизации выбора плана выполнения:

```sql
CREATE INDEX idx_example ON large_table(column);
ANALYZE large_table;
```

**Рекомендации**:
- **Тестирование**: Перед добавлением индеса на большую таблицу, тщательно протестируйте его влияние на производительность операций вставки/обновления и запросов.
- **Частичные индексы**: Рассмотрите возможность использования частичных индексов, которые будут охватывать только те строки, которые удовлетворяют определенному условию.
- **Периодическое обновление**: Если возможно, рассмотрите возможность периодического обновления индексов или их перестроения в моменты минимальной нагрузки.

Эти советы помогут минимизировать влияние добавления индексов на производительность больших таблиц.