### Шанс вопроса: 3%

Alembic — это инструмент для управления миграциями баз данных в проекте на Python, особенно с использованием SQLAlchemy в качестве ORM (объектно-реляционного сопоставления). Он позволяет разработчикам легко управлять изменениями в своей базе данных, делая процесс миграции простым и надежным.

### Для чего используется Alembic:
1. **Управление версиями схемы базы данных**: Alembic позволяет отслеживать изменения в структуре базы данных, создавая и применяя миграции. Это особенно полезно в командной разработке, где несколько программистов могут работать над проектом и вносить изменения в схему базы данных.
2. **Автоматизация миграций**: Alembic автоматически применяет нужные изменения, что упрощает процесс обновления базы данных на всех этапах разработки и тестирования.
3. **Простое возвращение к предыдущей версии**: Alembic позволяет легко откатить базу данных до предыдущей версии, если в новой версии обнаружатся какие-то проблемы.
4. **Поддержка нескольких движков баз данных**: Alembic поддерживает множество СУБД, таких как PostgreSQL, MySQL, SQLite и другие, что делает его универсальным инструментом для управления базами данных.
5. **Интеграция с ORM**: Так как Alembic использует SQLAlchemy, это позволяет разработчикам писать миграции на чистом SQL, но при этом получать все преимущества использования объектно-реляционного сопоставления.

### Пример использования Alembic:

1. **Установка Alembic**:
   ```bash
   pip install alembic
   ```

2. **Создание структуры проекта**:
   После установки создадим структуру проекта с помощью команды `alembic init`:
   ```bash
   alembic init migrations
   ```

3. **Написание первой миграции** (например, в файл `versions/001_initial_schema.py`):
   ```python
   from alembic import op
   import sqlalchemy as sa
   
   # Создание таблицы users
   def upgrade():
       op.create_table(
           'users',
           sa.Column('id', sa.Integer, primary_key=True),
           sa.Column('name', sa.String(50), nullable=False)
       )
   
   # Откат миграции (rollback)
   def downgrade():
       op.drop_table('users')
   ```

4. **Применение миграции**:
   ```bash
   alembic revision --autogenerate -m "Initial schema"
   alembic upgrade head
   ```

5. **Добавление новых полей в таблицу** (например, добавим поле `email`):
   ```python
   def upgrade():
       op.add_column('users', sa.Column('email', sa.String(120), nullable=True))
   
   def downgrade():
       op.drop_column('users', 'email')
   ```

6. **Применение и откат миграции**:
   ```bash
   alembic upgrade head  # Применить новую версию
   alembic downgrade -1  # Откатить последнюю версию
   ```

Использование Alembic значительно упрощает управление версиями базы данных, делая процесс миграции предсказуемым и надежным.