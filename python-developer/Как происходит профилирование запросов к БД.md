### Шанс вопроса: 3%

Профилирование запросов к базе данных (БД) — это процесс измерения, анализа и оптимизации производительности SQL-запросов. Это важно для разработчиков, чтобы убедиться, что приложение работает эффективно и не создаёт чрезмерной нагрузки на базу данных. В Python есть несколько инструментов и библиотек, которые помогают профилировать запросы к БД.

Один из самых популярных инструментов для этого является `cProfile`. Это встроенный модуль Python, который можно использовать для анализа времени выполнения функций и методов. Для профилирования запросов к БД, можно использовать библиотеку `line_profiler`, которая позволяет измерять время выполнения отдельных строк кода.

Пример использования `cProfile` для профилирования SQL-запросов:

```python
import cProfile
import pstats
import io

def heavy_query():
    # Пример тяжелого запроса к базе данных
    import time
    time.sleep(1)  # Имитация задержки в 1 секунду

# Запуск профилирования
profiler = cProfile.Profile()
profiler.enable()

heavy_query()

# Остановка профилирования
profiler.disable()

# Создание отчета
s = io.StringIO()
stats = pstats.Stats(profiler, stream=s).sort_stats('tottime')
stats.print_stats()

# Вывод отчета
print(s.getvalue())
```

В этом примере мы создаем профиль для функции `heavy_query`, которая имитирует тяжелый запрос к базе данных. После выполнения запроса, отчет о времени выполнения функций будет выведен в консоль.

Для более детального анализа можно использовать `line_profiler`, который позволяет измерять время выполнения отдельных строк кода:

```python
import line_profiler

@profile
def heavy_query():
    # Пример тяжелого запроса к базе данных
    import time
    time.sleep(1)  # Имитация задержки в 1 секунду

# Запуск профилирования
profiler = line_profiler.LineProfiler()
profiler.add_function(heavy_query)
profiler.runcall(heavy_query)

# Вывод отчета
profiler.print_stats()
```

В этом примере мы используем `line_profiler` для профилирования функции `heavy_query`. После выполнения запроса, отчет о времени выполнения отдельных строк кода будет выведен в консоль.

Эти инструменты помогают разработчикам оптимизировать SQL-запросы и улучшить производительность приложения.