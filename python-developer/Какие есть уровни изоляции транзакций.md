### Шанс вопроса: 6%

Уровни изоляции транзакций в базе данных определяют степень параллелизма, которая разрешена между различными транзакциями. Они помогают предотвращать проблемы, такие как грязное чтение, неповторяющееся чтение, фантомное чтение и тупики. Вот основные уровни изоляции транзакций:

1. **Чтение неcommitted (Read Uncommitted)** - Наименьший уровень изоляции. Транзакции могут читать данные, которые еще не завершены другими транзакциями. Это приводит к грязному чтению, так как изменения могут быть видны даже если они еще не зафиксированы.
   ```python
   # Пример на Python с использованием библиотеки sqlite3
   import sqlite3

   conn = sqlite3.connect('example.db')
   conn.execute("BEGIN TRANSACTION")
   cursor = conn.cursor()
   cursor.execute("UPDATE users SET balance = 100 WHERE id = 1")
   # Транзакция не завершена, данные могут быть прочитаны другими транзакциями
   conn.rollback()  # Откат изменений
   ```

2. **Чтение committed (Read Committed)** - Позволяет читать только зафиксированные данные. Этот уровень предотвращает грязное чтение, но может допускать неповторяющееся чтение и фантомное чтение.
   ```python
   conn = sqlite3.connect('example.db')
   conn.execute("BEGIN TRANSACTION")
   cursor = conn.cursor()
   cursor.execute("SELECT balance FROM users WHERE id = 1")
   # Транзакция не завершена, но данные могут быть прочитаны только после фиксации
   ```

3. **Повторяемое чтение (Repeatable Read)** - Обеспечивает повторяемость чтения данных в рамках одной транзакции. Гарантирует, что если транзакция считывает данные, то она увидит те же самые данные на протяжении всего времени выполнения транзакции, даже если другие транзакции вносят изменения.
   ```python
   conn = sqlite3.connect('example.db')
   conn.execute("BEGIN TRANSACTION")
   cursor = conn.cursor()
   cursor.execute("SELECT balance FROM users WHERE id = 1")
   # Транзакция не завершена, но данные останутся неизменными в рамках транзакции
   ```

4. **Сериализуемое чтение (Serializable)** - Наивысший уровень изоляции. Все операции выполняются так, как будто они были выполнены последовательно, что предотвращает все проблемы с параллельным выполнением транзакций (грязное чтение, неповторяющееся чтение, фантомное чтение). Однако это приводит к наибольшим накладным расходам и может снизить производительность.
   ```python
   conn = sqlite3.connect('example.db', isolation_level=None)  # Установка уровня изоляции
   conn.execute("BEGIN TRANSACTION ISOLATION LEVEL SERIALIZABLE")
   cursor = conn.cursor()
   cursor.execute("SELECT balance FROM users WHERE id = 1")
   # Транзакция не завершена, но данные защищены от параллельных изменений
   ```

Выбор уровня изоляции транзакций зависит от требований к приложению и допустимого риска. Увеличение уровня изоляции снижает возможное количество параллельных транзакций, но может также снизить производительность.