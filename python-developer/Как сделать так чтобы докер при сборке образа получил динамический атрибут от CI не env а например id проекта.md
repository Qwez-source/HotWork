### Шанс вопроса: 6%

Чтобы Docker-образ получил динамический атрибут, такой как идентификатор проекта из CI/CD (например, переменная окружения или данные из системы контроля версий), можно использовать шаблоны в Dockerfile. Вот пример того, как это можно сделать:

1. **Использование переменной окружения**: Если ваш CI/CD система передает переменную окружения, вы можете использовать её в Dockerfile. Например, в Jenkins это можно сделать через параметры сборки или глобальные переменные.

2. **Использование скриптов**: Вы можете создать скрипт, который будет устанавливать значение переменной окружения в образе во время сборки. Например:

```Dockerfile
# Используем переменную окружения PROJECT_ID для идентификатора проекта
ARG PROJECT_ID
ENV PROJECT_ID=${PROJECT_ID}

# Добавляем скрипт, который будет использовать значение PROJECT_ID
RUN echo "PROJECT_ID is ${PROJECT_ID}" > /var/log/project_id.log
```

3. **Использование системных переменных**: Если ваша CI/CD система предоставляет доступ к системным переменным, вы можете использовать их в Dockerfile. Например, если у вас есть переменная окружения `CI_COMMIT_SHA` (типичная для GitLab CI), вы можете использовать её:

```Dockerfile
# Используем системную переменную CI_COMMIT_SHA для идентификатора проекта
ARG CI_COMMIT_SHA
ENV PROJECT_ID=${CI_COMMIT_SHA}

# Добавляем скрипт, который будет использовать значение PROJECT_ID
RUN echo "PROJECT_ID is ${PROJECT_ID}" > /var/log/project_id.log
```

4. **Использование Docker Build Args**: Вы можете передавать аргументы во время сборки через `docker build` и использовать их в Dockerfile:

```sh
# Передаем PROJECT_ID как аргумент при сборке образа
docker build --build-arg PROJECT_ID=$(PROJECT_ID) -t myimage .
```

В Dockerfile:

```Dockerfile
ARG PROJECT_ID
ENV PROJECT_ID=${PROJECT_ID}

# Добавляем скрипт, который будет использовать значение PROJECT_ID
RUN echo "PROJECT_ID is ${PROJECT_ID}" > /var/log/project_id.log
```

Эти методы позволяют вам динамически получать идентификатор проекта из CI/CD системы и использовать его в процессе сборки Docker-образа.